{"remainingRequest":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/src/views/QuizPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/src/views/QuizPage.vue","mtime":1595594244651},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdRdWl6UGFnZScsCgogICAgY3JlYXRlZCAoKSB7IC8vIHNldHMgdGhlIGNvZGUgb2YgdGhlIGNhdGVnb3J5CiAgICAgICAgaWYgKHRoaXMuY2F0ZWdvcnkgPT0gJ1Nwb3J0JykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDIxCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdHZW5lcmFsIEtub3dsZWRnZScpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSA5CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdBbmltYWxzJykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDI3CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdDZWxlYnJpdGllcycpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAyNgogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnQm9va3MnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMTAKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2F0ZWdvcnkgPT0gJ01vdmllcycpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAxMQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnTXVzaWMnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMTIKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2F0ZWdvcnkgPT0gJ1RoZWF0cmUnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMTMKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2F0ZWdvcnkgPT0gJ1RWJykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDE0CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdWaWRlbyBHYW1lcycpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAxNQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnQm9hcmQgR2FtZXMnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMTYKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2F0ZWdvcnkgPT0gJ1NjaWVuY2UnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMTcKICAgICAgICB9ICBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdDb21wdXRlcnMnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMTgKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2F0ZWdvcnkgPT0gJ01hdGhzJykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDE5CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdNeXRocycpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAyMAogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnR2VvZ3JhcGh5JykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDIyCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdIaXN0b3JpY2FsJykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDIzCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdQb2xpdGljcycpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAyNAogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnQXJ0JykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDI1CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdWZWhpY2xlcycpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAyOAogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnQ29taWNzJykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDI5CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdHYWRnZXRzJykgewogICAgICAgICAgICB0aGlzLmNhdCA9IDMwCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhdGVnb3J5ID09ICdBbmltZScpIHsKICAgICAgICAgICAgdGhpcy5jYXQgPSAzMQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYXRlZ29yeSA9PSAnQ2FydG9vbnMnKSB7CiAgICAgICAgICAgIHRoaXMuY2F0ID0gMzIKICAgICAgICB9IAogICAgfSwKCiAgICBwcm9wczogWydjYXRlZ29yeSddLAoKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG5vTW9yZVJlc3VsdHM6IGZhbHNlLAogICAgICAgICAgICBjb3JyZWN0Q291bnQ6IDAsCiAgICAgICAgICAgIHByb2dyZXNzOiAwLAogICAgICAgICAgICBvcHRpb25TZWxlY3Q6IHRydWUsCiAgICAgICAgICAgIGNhdDogdGhpcy5jYXRlZ29yeSwKICAgICAgICAgICAgcXVpemVzOiBbXSwKICAgICAgICAgICAgUXVpekFycmF5TGVuZ3RoOiBOdW1iZXIsCiAgICAgICAgICAgIGRpZmZpY3VsdHlPcHRpb25zOiBbJ2Vhc3knLCAnbWVkaXVtJywgJ2hhcmQnXSwKICAgICAgICAgICAgZGlmZmljdWx0eTogImVhc3kiLAogICAgICAgICAgICBudW1iZXI6IDEwLAogICAgICAgICAgICBxdWVzdGlvbk51bWJlcnM6IFsxMCwgMTUsIDIwLCAyNV0sCiAgICAgICAgICAgIHF1ZXN0aW9uVHlwZU9wdGlvbnM6IFsnYW55JywnbXVsdGlwbGUnLCAnYm9vbGVhbiddLAogICAgICAgICAgICBxdWVzdGlvblR5cGU6ICdtdWx0aXBsZScsCiAgICAgICAgICAgIG51bTogMCwKICAgICAgICAgICAgdHJ5QWdhaW5EaWFsb2c6IGZhbHNlLCAKICAgICAgICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgICAgICAgY291bnREb3duIDogMjAsCiAgICAgICAgICAgIGRpYWxvZ0hlYWRlcjogJycsCiAgICAgICAgICAgIGJhZGdlOiAnJwogICAgICAgIH0KICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgICBxdWl6ZXMgKHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuUXVpekFycmF5TGVuZ3RoID0gdmFsdWUubGVuZ3RoCiAgICAgICAgfSwKCiAgICAgICAgY291bnREb3duICh2YWx1ZSkgewogICAgICAgICAgICBpZih2YWx1ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICB2YXIgdGltZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXInKQogICAgICAgICAgICAgICAgdGltZXIucGF1c2UoKQogICAgICAgICAgICAgICAgdGltZXIuY3VycmVudFRpbWUgPSAwCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0hlYWRlciA9ICJUaW1lIGlzIHVwIiAKICAgICAgICAgICAgICAgIHZhciB0aW1lc1VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVzVXAnKQogICAgICAgICAgICAgICAgdGltZXNVcC52b2x1bWUgPSAwLjMgLy8gU2V0IHZvbHVtZSBvZiBzb3VuZAogICAgICAgICAgICAgICAgdGltZXNVcC5wbGF5KCkKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5jb3VudERvd24gPSAyMAogICAgICAgICAgICAgICAgdGhpcy5jb3VudERvd25UaW1lcigpIC8vIHJlc3RhcnQgdGhlIHRpbWVyCiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gKHRoaXMubnVtICsgMSkgLyB0aGlzLlF1aXpBcnJheUxlbmd0aCAqIDEwMAogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgY2F0ZWdvcnkgKHZhbHVlKSB7IC8vIEFsc28gc2V0cyB0aGUgY29kZSBvZiB0aGUgY2F0ZWdvcnkKICAgICAgICAgICAgaWYgKHZhbHVlID09ICdTcG9ydCcpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMjEKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnR2VuZXJhbCBLbm93bGVkZ2UnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDkKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnQW5pbWFscycpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMjcKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnQ2VsZWJyaXRpZXMnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDI2CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ0Jvb2tzJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAxMAogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdNb3ZpZXMnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDExCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ011c2ljJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAxMgogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdUaGVhdHJlJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAxMwogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdUVicpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMTQKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnVmlkZW8gR2FtZXMnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDE1CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ0JvYXJkIEdhbWVzJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAxNgogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdTY2llbmNlJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAxNwogICAgICAgICAgICB9ICBlbHNlIGlmICh2YWx1ZSA9PSAnQ29tcHV0ZXJzJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAxOAogICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdNYXRocycpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMTkKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnTXl0aHMnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDIwCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ0dlb2dyYXBoeScpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMjIKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnSGlzdG9yaWNhbCcpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMjMKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnUG9saXRpY3MnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDI0CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ0FydCcpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMjUKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnVmVoaWNsZXMnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDI4CiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ0NvbWljcycpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMjkKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnR2FkZ2V0cycpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ID0gMzAKICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnQW5pbWUnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhdCA9IDMxCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ0NhcnRvb25zJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXQgPSAzMgogICAgICAgICAgICB9IAogICAgICAgICAgICAKICAgICAgICB9CiAgICB9LAoKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgc2Vzc2lvblRva2VuICgpIHsgLy8gdG9rZW4gdGhhdCBwcmV2ZW50cyB0aGUgc2FtZSBxdWVzdGlvbiBiZWluZyByZXF1ZXN0ZWQgdHdpY2UKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VG9rZW4KICAgICAgICB9LAoKICAgICAgICBwcm9maWxlQ2hlY2sgKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRQcm9maWxlCiAgICAgICAgfSwKCiAgICAgICAgdXNlcigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VXNlcgogICAgICAgIH0sCgogICAgICAgIHByb2dyZXNzVGV4dCAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnByb2dyZXNzIDwgMjApIHsKICAgICAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvZ3Jlc3MgPj0gMjEgJiYgdGhpcy5wcm9ncmVzcyA8IDQwKSB7IAogICAgICAgICAgICAgICAgcmV0dXJuICJZb3UncmUgZG9pbmcgZ3JlYXQiCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9ncmVzcyA+PSA1MCAmJiB0aGlzLnByb2dyZXNzIDwgNTUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAnSGFsZndheSB0aGVyZScKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb2dyZXNzID4gNjUgJiYgdGhpcy5wcm9ncmVzcyA8IDc5KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJ0dldHRpbmcgdGhlcmUnCiAgICAgICAgICAgIH1lbHNlIGlmICh0aGlzLnByb2dyZXNzID49IDkwICYmIHRoaXMucHJvZ3Jlc3MgPCAxMDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAnQWxtb3N0IHRoZXJlJwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgY29ycmVjdEFuc3dlciAoKSB7IC8vIGZpbHRlciBhcnJheSBmb3IgY29ycmVjdCBhbnN3ZXIKICAgICAgICAgICByZXR1cm4gdGhpcy5xdWl6ZXNbdGhpcy5udW1dLnF1ZXN0aW9ucy5maW5kKGUgPT4gZS5jb3JyZWN0ID09PSB0cnVlKTsgCiAgICAgICAgfSwKCiAgICAgICAgc2h1ZmZsZUFycmF5KGEsYixjLGQpIHsKICAgICAgICAgICAgdmFyIGEgPSB0aGlzLnF1aXplc1t0aGlzLm51bV0ucXVlc3Rpb25zCiAgICAgICAgICAgICAgIGxldCByZXN1bHRzID0gIGM9YS5sZW5ndGg7d2hpbGUoYyliPU1hdGgucmFuZG9tKCkqYy0tfDAsZD1hW2NdLGFbY109YVtiXSxhW2JdPWQKICAgICAgICAgICAgICAgcmV0dXJuIGEKICAgICAgICAgICAgCiAgICAgICAgfSwKCiAgICAgICAgdGltZXJDb2xvciAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50RG93biA+PSAxNSkgewogICAgICAgICAgICAgICAgcmV0dXJuICJncmVlbiIKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvdW50RG93biA+PSAxMCkgewogICAgICAgICAgICAgICAgcmV0dXJuICJibHVlIgogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY291bnREb3duID4gNSkgewogICAgICAgICAgICAgICAgcmV0dXJuICJ5ZWxsb3ciCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gInJlZCIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgbWV0aG9kczogewogICAgICAgIHJlZ2lzdGVyVG9TYXZlICgpIHsgLy8gd2hlbiBhIHVzZXIgaGFzIGNvbXBsZXRlZCBhIHF1aXogYW5kIHdhbnQgdG8gc2F2ZSBoaXMgcHJvZ3Jlc3MgYnkgcmVnaXN0ZXJpbmcKICAgICAgICAgICAgY29uc3QgVGVtcERhdGEgPSB7CiAgICAgICAgICAgICAgICBjb3JyZWN0OiB0aGlzLmNvcnJlY3RDb3VudCwKICAgICAgICAgICAgICAgIHRvdGFsUXVlc3Rpb25zOiB0aGlzLlF1aXpBcnJheUxlbmd0aCwKICAgICAgICAgICAgICAgIGxhc3RHYW1lOiB7CiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0LAogICAgICAgICAgICAgICAgICAgIHNjb3JlOiB0aGlzLmNvcnJlY3RDb3VudCArICcgb3V0IG9mICcgKyB0aGlzLlF1aXpBcnJheUxlbmd0aAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJhZGdlczogW3RoaXMuYmFkZ2VdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N0b3JlVGVtcERhdGEnLCBUZW1wRGF0YSkKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9yZWdpc3RlcicpCiAgICAgICAgfSwKICAgICAgICAKICAgICAgICB0cnlBZ2FpbiAoKSB7CiAgICAgICAgICAgIHRoaXMudHJ5QWdhaW5EaWFsb2cgPSBmYWxzZQogICAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9ucygpCiAgICAgICAgICAgIHRoaXMubnVtID0gMAogICAgICAgIH0sCgogICAgICAgIHJlc2V0U291bmRzICgpIHsgIC8vIHdoZW4gYSB1c2VyIHByZXNzZXMgb24gbmV4dCBxdWVzdGlvbiB0aGlzIG1ldGhvZCBydW5zCiAgICAgICAgICAgIHZhciB3cm9uZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cm9uZycpCiAgICAgICAgICAgIHZhciByaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodCcpCiAgICAgICAgICAgIHZhciB0aW1lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcicpCiAgICAgICAgICAgIGlmICh0aGlzLm51bSA8IHRoaXMuUXVpekFycmF5TGVuZ3RoIC0gMSkgeyAvLyBpZiBpdHMgbm90IHRoZSBsYXN0IHF1ZXN0aW9uCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLmNvdW50RG93biA9IDIwCiAgICAgICAgICAgICAgICB0aW1lci5wbGF5KCkKICAgICAgICAgICAgICAgIHdyb25nLnBhdXNlKCkKICAgICAgICAgICAgICAgIHdyb25nLmN1cnJlbnRUaW1lID0gMAogICAgICAgICAgICAgICAgcmlnaHQucGF1c2UoKQogICAgICAgICAgICAgICAgcmlnaHQuY3VycmVudFRpbWUgPSAwCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgIHRoaXMubnVtICs9IDE7IH0sIDIwMCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5udW0gPT0gdGhpcy5RdWl6QXJyYXlMZW5ndGggLSAxICYmIHRoaXMudXNlciAhPT0gZmFsc2UpIHsgLy8gaWYgaXQgaXMgdGhlIGxhc3QgcXVlc3Rpb24gYW5kIHRoZSB1c2VyIGlzIHNpZ25lZCBpbgogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZSAvLyBjbG9zZSB0aGUgbmV4dCBxdWVzdGlvbiBkaWFsb2cgYW5kIG9wZW4gdGhlIHRyeSBhZ2FpbiBkaWFsb2cKICAgICAgICAgICAgICAgIHRoaXMudHJ5QWdhaW5EaWFsb2cgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLmNvdW50RG93biA9IC0xCgogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZmlsZUNoZWNrID09IHVuZGVmaW5lZCAmJiB0aGlzLnVzZXIgIT09IGZhbHNlKSB7IC8vIGlmIGl0IGlzIHRoZSB1c2VycyBmaXJzdCBnYW1lCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlcnMgZmlyc3QgZ2FtZScpIAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVVcGRhdGVJbmZvID0geyAvLyBwcm9maWxlIGluZm8gdG8gYmUgc2VuZCB0byBmaXJlc3RvcmUKICAgICAgICAgICAgICAgICAgICAgICAgdWlkOiB0aGlzLnVzZXIudWlkLAogICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0OiB0aGlzLmNvcnJlY3RDb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxRdWVzdGlvbnM6IHRoaXMuUXVpekFycmF5TGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2FtZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IHRoaXMuY29ycmVjdENvdW50ICsgJyBvdXQgb2YgJyArIHRoaXMuUXVpekFycmF5TGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGJhZGdlczogW3RoaXMuYmFkZ2VdCiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZFByb2ZpbGVEYXRhJywgcHJvZmlsZVVwZGF0ZUluZm8pCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wcm9maWxlQ2hlY2sgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnVzZXIgIT09IGZhbHNlKSB7IC8vIHVzZXIgYWxyZWFkeSBoYXMgYSBwcm9maWxlCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZmlsZVVwZGF0ZUluZm8gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogdGhpcy51c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogdGhpcy5wcm9maWxlQ2hlY2suY29ycmVjdCArIHRoaXMuY29ycmVjdENvdW50LAogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFF1ZXN0aW9uczogdGhpcy5wcm9maWxlQ2hlY2sudG90YWxRdWVzdGlvbnMgKyB0aGlzLlF1aXpBcnJheUxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdhbWU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiB0aGlzLmNvcnJlY3RDb3VudCArICcgb3V0IG9mICcgKyB0aGlzLlF1aXpBcnJheUxlbmd0aAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBiYWRnZXM6IHRoaXMucHJvZmlsZUNoZWNrLmJhZGdlcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZFByb2ZpbGVEYXRhJywgcHJvZmlsZVVwZGF0ZUluZm8pCiAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubnVtID09IHRoaXMuUXVpekFycmF5TGVuZ3RoIC0gMSAmJiB0aGlzLnVzZXIgPT0gZmFsc2UpIHsgLy8gaWYgaXRzIHRoZSBsYXN0IHF1ZXN0aW9uIGFuZCB1c2VyIGlzIG5vdCB5ZXQgc2lnbmVkIGluCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLnRyeUFnYWluRGlhbG9nID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0sCgogICAgICAgIHN0b3JlQW5zd2VyKGFuc3dlcikgewogICAgICAgICAgICBpZiAodGhpcy5wcm9maWxlQ2hlY2sgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3VzZXIgYWxyZWFkeSBoYXMgYSBwcm9maWxlJykKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb2ZpbGVDaGVjayA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1c2VyIGhhcyBubyBwcm9maWxlIHlldCIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9ICh0aGlzLm51bSArIDEpIC8gdGhpcy5RdWl6QXJyYXlMZW5ndGggKiAxMDAKICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciB0aW1lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcicpCiAgICAgICAgICAgIHRpbWVyLnBhdXNlKCkKICAgICAgICAgICAgdGltZXIuY3VycmVudFRpbWUgPSAwCiAgICAgICAgICAgIAogICAgICAgICAgICB2YXIgd3JvbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JvbmcnKQogICAgICAgICAgICB3cm9uZy52b2x1bWUgPSAwLjMgLy8gU2V0IHZvbHVtZSBvZiBzb3VuZAogICAgICAgICAgICB2YXIgcmlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQnKQogICAgICAgICAgICByaWdodC52b2x1bWUgPSAwLjMgLy8gU2V0IHZvbHVtZSBvZiBzb3VuZAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGFuc3dlciA9PSBmYWxzZSkgeyAvLyBpZiBpdHMgbm90IHRoZSBsYXN0IHF1ZXN0aW9uIGFuZCB0aGUgYW5zd2VyIGlzIGluY29ycmVjdAogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dIZWFkZXIgPSAiT29wcyEgVGhhdCBpcyBpbmNvcnJlY3QiCiAgICAgICAgICAgICAgICB3cm9uZy5wbGF5KCkKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZSAvLyBzaG93IHRoZSByaWdodCBxdWVzdGlvbiBpbiBkaWFsb2cKICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5zd2VyID09IHRydWUgJiYgdGhpcy5udW0gIT09IHRoaXMuUXVpekFycmF5TGVuZ3RoIC0gMSkgeyAvLyBpZiBpdHMgbm90IHRoZSBsYXN0IHF1ZXN0aW9uIGFuZCB0aGUgYW5zd2VyIGlzIHJpZ2h0CiAgICAgICAgICAgICAgICByaWdodC5wbGF5KCkKICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdENvdW50KysKICAgICAgICAgICAgICAgIHRoaXMubnVtKysKICAgICAgICAgICAgICAgIHRoaXMuY291bnREb3duID0gMjAgLy8gUmVzZXQgdGhlIHRpbWVyCiAgICAgICAgICAgICAgICB0aW1lci5wbGF5KCkKCiAgICAgICAgICAgICAgICAvLyBxdWl6IGlzIGRvbmUKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm51bSA9PSB0aGlzLlF1aXpBcnJheUxlbmd0aCAtIDEgJiYgYW5zd2VyID09IHRydWUpIHsgLy8gaWYgaXMgaXMgdGhlIGxhc3QgcXVlc3Rpb24gYW5kIHRoZSBhbnN3ZXIgaXMgcmlnaHQKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdENvdW50KysKICAgICAgICAgICAgICAgIHRoaXMudHJ5QWdhaW5EaWFsb2cgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLmNvdW50RG93biA9IC0xCgogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZmlsZUNoZWNrID09IHVuZGVmaW5lZCAmJiB0aGlzLnVzZXIgIT09IGZhbHNlKSB7IC8vIGlmIGl0IGlzIHRoZSB1c2VycyBmaXJzdCBnYW1lCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndXNlcnMgZmlyc3QgZ2FtZScpCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZmlsZVVwZGF0ZUluZm8gPSB7IC8vIHByb2ZpbGUgaW5mbyB0byBiZSBzZW5kIHRvIGZpcmVzdG9yZQogICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHRoaXMudXNlci51aWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IHRoaXMuY29ycmVjdENvdW50LAogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFF1ZXN0aW9uczogdGhpcy5RdWl6QXJyYXlMZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHYW1lOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogdGhpcy5jb3JyZWN0Q291bnQgKyAnIG91dCBvZiAnICsgdGhpcy5RdWl6QXJyYXlMZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGJhZGdlczogW3RoaXMuYmFkZ2VdCiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZFByb2ZpbGVEYXRhJywgcHJvZmlsZVVwZGF0ZUluZm8pCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvZmlsZUNoZWNrICE9PSB1bmRlZmluZWQgJiYgdGhpcy51c2VyICE9PSBmYWxzZSkgeyAvLyB1c2VyIGFscmVhZHkgaGFzIGEgcHJvZmlsZQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVVcGRhdGVJbmZvID0gewogICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHRoaXMudXNlci51aWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3Q6IHRoaXMucHJvZmlsZUNoZWNrLmNvcnJlY3QgKyB0aGlzLmNvcnJlY3RDb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxRdWVzdGlvbnM6IHRoaXMucHJvZmlsZUNoZWNrLnRvdGFsUXVlc3Rpb25zICsgdGhpcy5RdWl6QXJyYXlMZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHYW1lOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZTogdGhpcy5jb3JyZWN0Q291bnQgKyAnIG91dCBvZiAnICsgdGhpcy5RdWl6QXJyYXlMZW5ndGgKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzOiB0aGlzLnByb2ZpbGVDaGVjay5iYWRnZXMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlbmRQcm9maWxlRGF0YScsIHByb2ZpbGVVcGRhdGVJbmZvKQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVzZXIgPT0gZmFsc2UpIHsgLy8gdXNlciBpcyBub3QgeWV0IHNpZ25lZCBpbiAoc3RpbGwgcGFydCBvZiBsYXN0IHF1ZXN0aW9uIElGKQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vcXVpeiBpcyBhbHNvIGRvbmUKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm51bSA9PSB0aGlzLlF1aXpBcnJheUxlbmd0aCAtIDEgJiYgYW5zd2VyID09IGZhbHNlKSB7IC8vIGlmIGl0cyB0aGUgbGFzdCBxdWVzdGlvbiBhbmQgdGhlIGFuc3dlciBpcyB3cm9uZwogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlIC8vIFNob3cgdGhlIGNvcnJlY3QgYW5zd2VyCiAgICAgICAgICAgICAgICB0aGlzLnRyeUFnYWluRGlhbG9nID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5jb3VudERvd24gPSAtMQoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb2ZpbGVDaGVjayA9PSB1bmRlZmluZWQgJiYgdGhpcy51c2VyICE9PSBmYWxzZSkgeyAvLyBpZiBpdCBpcyB0aGUgdXNlcnMgZmlyc3QgZ2FtZSAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1c2VycyBmaXJzdCBnYW1lJykKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9maWxlVXBkYXRlSW5mbyA9IHsgLy8gcHJvZmlsZSBpbmZvIHRvIGJlIHNlbmQgdG8gZmlyZXN0b3JlCiAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogdGhpcy51c2VyLnVpZCwKICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogdGhpcy5jb3JyZWN0Q291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUXVlc3Rpb25zOiB0aGlzLlF1aXpBcnJheUxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdhbWU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlOiB0aGlzLmNvcnJlY3RDb3VudCArICcgb3V0IG9mICcgKyB0aGlzLlF1aXpBcnJheUxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgYmFkZ2VzOiBbdGhpcy5iYWRnZV0KICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kUHJvZmlsZURhdGEnLCBwcm9maWxlVXBkYXRlSW5mbykKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnByb2ZpbGVDaGVjayAhPT0gdW5kZWZpbmVkICYmIHRoaXMudXNlciAhPT0gZmFsc2UpIHsgLy8gdXNlciBhbHJlYWR5IGhhcyBhIHByb2ZpbGUKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9maWxlVXBkYXRlSW5mbyA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgdWlkOiB0aGlzLnVzZXIudWlkLAogICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0OiB0aGlzLnByb2ZpbGVDaGVjay5jb3JyZWN0ICsgdGhpcy5jb3JyZWN0Q291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUXVlc3Rpb25zOiB0aGlzLnByb2ZpbGVDaGVjay50b3RhbFF1ZXN0aW9ucyArIHRoaXMuUXVpekFycmF5TGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2FtZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmU6IHRoaXMuY29ycmVjdENvdW50ICsgJyBvdXQgb2YgJyArIHRoaXMuUXVpekFycmF5TGVuZ3RoCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGJhZGdlczogdGhpcy5wcm9maWxlQ2hlY2suYmFkZ2VzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kUHJvZmlsZURhdGEnLCBwcm9maWxlVXBkYXRlSW5mbykKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy51c2VyID09IGZhbHNlKSB7IC8vIHVzZXIgaXMgbm90IHNpZ25lZCBpbiBhbmQgYW5zd2VyIGlzIHdyb25nCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlIC8vIHNob3cgdGhlIGNvcnJlY3QgYW5zd2VyCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIAogICAgICAgIH0sCgogICAgICAgIGNvdW50RG93blRpbWVyKCkgewogICAgICAgICAgICBpZih0aGlzLmNvdW50RG93biA+IDApIHsgCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50RG93biAtPSAxCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlhbG9nID09IHRydWUpIHsgLy8gSWYgYSBhbnN3ZXIgaXMgcHJlc3NlZCB0aGVuIHN0b3AgdGhlIHRpbWVyCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnREb3duICs9IDEgLy9kb2VzbnQgcmVhbGx5IHN0b3AgYnV0IGFwcGVhcnMgdGhhdCB3YXkgaW4gdGhlIGRvbQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50RG93blRpbWVyKCkKICAgICAgICAgICAgICAgIH0sIDEwMDApCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb3VudERvd24gPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgfSwKCgogICAgICAgIGdldFF1ZXN0aW9ucyAoKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXRMb2FkU3RhdGUnLCB0cnVlKQogICAgICAgICAgICB0aGlzLnF1aXplcy5sZW5ndGggPSAwIC8vIHJlc2V0IHRoZSBhcnJheSB3aGVuIHVzZXIgY2xpY2sgJ1RyeSBhZ2FpbicKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJ2h0dHBzOi8vb3BlbnRkYi5jb20vYXBpLnBocD9hbW91bnQ9JyArIHRoaXMubnVtYmVyICsgJyZ0b2tlbj0nICsgdGhpcy5zZXNzaW9uVG9rZW4gKyAnJmNhdGVnb3J5PScgKyB0aGlzLmNhdCArICcmZGlmZmljdWx0eT0nICsgdGhpcy5kaWZmaWN1bHR5ICsgJyZ0eXBlPScgKyB0aGlzLnF1ZXN0aW9uVHlwZSArICcnKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5yZXNwb25zZV9jb2RlID09IDQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0TG9hZFN0YXRlJywgZmFsc2UpCiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub01vcmVSZXN1bHRzID0gdHJ1ZQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDAKICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IDAKICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50RG93biA9IDIwCiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudERvd25UaW1lcigpIC8vIHN0YXJ0cyB0aGUgdGltZXIKICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXInKQogICAgICAgICAgICAgICAgICAgIHRpbWVyLnBsYXkoKQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgcmVzcG9uc2UuZGF0YS5yZXN1bHRzLmxlbmd0aCkgeyAvLyBnb2VzIGludG8gZWFjaCBvYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHF1ZXN0aW9uQXJyYXkgPSBbXQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobiA8IDMpIHsgLy8gZ29lcyBpbnRvIHRoZSBjdXJyZW50IG9iamVjdHMgc3ViIGFycmF5IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc3NpYmxlID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiByZXNwb25zZS5kYXRhLnJlc3VsdHNbaV0uaW5jb3JyZWN0X2Fuc3dlcnNbbl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uQXJyYXkucHVzaChwb3NzaWJsZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4rKwogICAgICAgICAgICAgICAgICAgICAgICB9IC8vIHdoaWxlIGxvb3AgZnJvbSBpbmNvcnJlY3QgYW5zd2VycyBlbmRzCgogICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZSA9IHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbjogcmVzcG9uc2UuZGF0YS5yZXN1bHRzW2ldLmNvcnJlY3RfYW5zd2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdDogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbkFycmF5LnB1c2gocG9zc2libGUpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uID0geyAvLyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBlYWNoIHNwZWNpZmljIHF1ZXN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgIG51bTogaSArIDEsIAogICAgICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbnM6IHF1ZXN0aW9uQXJyYXksCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLmRhdGEucmVzdWx0c1tpXS5xdWVzdGlvbgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVpemVzLnB1c2gocXVlc3Rpb24pIC8vIHN0b3JlIGVhY2ggb2JqZWN0IGluc2lkZSBhbiBhcnJheQogICAgICAgICAgICAgICAgICAgICAgICBpKysKICAgICAgICAgICAgICAgICAgICAgICAgbiA9IDAgLy8gcmVzZXQgdGhlIHN1YiBhcnJheSBudW1iZXJpbmcKICAgICAgICAgICAgICAgICAgICB9IC8vIHdoaWxlIGxvb3AgZnJvbSBpbmRpdmlkdWFsIHF1ZXN0aW9uIG9iamVjdCBlbmRzCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldExvYWRTdGF0ZScsIGZhbHNlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25TZWxlY3QgPSBmYWxzZSAvLyBoaWRlcyB0aGUgb3B0aW9uIGJhcgogICAgICAgICAgICB9KSAvLyB0aGVuIEVORFMKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICB9KQogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgfQogICAgfQoKfQo="},{"version":3,"sources":["QuizPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA","file":"QuizPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"quizWrapper\">\n        <audio id=\"timer\" preload=\"auto\">\n            <source src=\"@/assets/sounds/timer.mp3\"></source>\n        </audio>\n        <audio id=\"timesUp\" preload=\"auto\">\n            <source src=\"@/assets/sounds/timesUp.mp3\"></source>\n        </audio>\n         <audio id=\"wrong\" preload=\"auto\">\n            <source src=\"@/assets/sounds/fail.mp3\"></source>\n        </audio>\n        <audio id=\"right\" preload=\"auto\">\n            <source src=\"@/assets/sounds/correct.mp3\"></source>\n        </audio>\n\n        <!-- Bar that lets you choose the options -->\n        <v-flex elevation-24  class=\"ma-1 mt-6 pa-3 rounded-xl\" v-if=\"optionSelect\">\n        <v-row  justify-space-around align=\"center\" justify=\"center\"> \n            <v-col>\n                <v-select v-model=\"difficulty\" :items=\"difficultyOptions\" label=\"Difficulty\"></v-select>\n            </v-col>\n\n            <v-col>\n                <v-select v-model=\"number\" :items=\"questionNumbers\" label=\"How many Questions\"></v-select>\n            </v-col>\n\n            <v-col>\n                <v-select v-model=\"questionType\" :items=\"questionTypeOptions\" label=\"Type of Questions\"></v-select>\n            </v-col>\n\n            <v-col>\n                    <v-btn height=\"60px\" dark block @click=\"getQuestions\" color=\"orange\" class=\"customBtn\">START</v-btn>\n            </v-col>\n        </v-row> \n        </v-flex>\n        <!-- Option bar ends -->\n\n        <v-container v-if=\"noMoreResults\" id=\"noResultImgHolder\">\n            <img id=\"noResultImg\" src=\"@/assets/images/noResult.jpg\">\n            <h2 class=\"display-2 text-center\">No more results</h2>\n            <h3 class=\"sub-heading text-center\">We are getting more soon</h3>\n        </v-container>\n\n        <v-container v-if=\"quizes.length !== 0\"> <!-- wrapper for each question card -->\n        <v-progress-linear height=\"20\" rounded v-if=\"progress !== 0\" :value=\"progress\" class=\"my-5\">{{progressText}}</v-progress-linear>\n        \n        <v-flex v-if=\"countDown !== 0\" id=\"timerHolder\" class=\"mt-10\">\n            <!-- Timer comes here -->\n            <b :style=\"{color: timerColor}\" class=\"display-4\">{{countDown}}</b>\n        </v-flex>\n\n            <v-flex >\n                <h1 class=\"text-center\">{{quizes[num].num}}. {{quizes[num].name}}</h1> <!-- Question number and title -->\n\n                <!-- contains the possible answers -->\n                <v-layout row justify-space-between> \n                    <v-card width=\"40%\" min-height=\"200\" v-for=\"item in shuffleArray\" :key=\"item.question\" @click=\"storeAnswer(item.correct)\" elevation-10 class=\"rounded-lg my-5\">\n                        <v-card-text class=\"text-center display-3\">{{item.question}}</v-card-text>\n                    </v-card>\n                </v-layout>\n\n                <!-- correct answer dialog -->\n               <v-dialog v-model=\"dialog\" persistent max-width=\"350\"> \n                    <v-card>\n                        <v-card-title class=\"headline text-center\">{{dialogHeader}}</v-card-title>\n                        <v-card-subtitle class=\"text-center\">The correct answer is:</v-card-subtitle>\n                        <v-card-text class=\"text-center display-3\">{{correctAnswer.question}}</v-card-text>\n                        <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn color=\"green darken-1\" text @click=\"resetSounds\">Next Question</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog>\n\n                <!-- try again dialog -->\n                 <v-dialog v-model=\"tryAgainDialog\" max-width=\"290\">  \n                    <v-card>\n                        <v-card-title class=\"headline\">Well done</v-card-title>\n\n                        <v-card-text>\n                            You scored {{correctCount}} out of {{QuizArrayLength}}\n                        </v-card-text>\n\n\n                        \n                        <v-flex xs12 v-if=\"this.user == false\">\n                            <v-layout column>\n                                <b class=\"dislpay-3\">Register to save your results</b>\n                                <v-btn @click=\"registerToSave\">Register</v-btn>\n                            </v-layout>\n                        </v-flex>\n\n                        \n                        \n                        <v-card-actions>\n                            <v-btn to=\"/\" color=\"green darken-1\" text @click=\"tryAgainDialog = false\">\n                                Home\n                            </v-btn>\n\n                            <v-spacer></v-spacer>\n\n                            <v-btn color=\"green darken-1\" text @click=\"tryAgain\">\n                                Try again\n                            </v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog> \n                <!-- try again dialog ends -->\n\n            </v-flex>\n        </v-container>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'QuizPage',\n\n    created () { // sets the code of the category\n        if (this.category == 'Sport') {\n            this.cat = 21\n        } else if (this.category == 'General Knowledge') {\n            this.cat = 9\n        } else if (this.category == 'Animals') {\n            this.cat = 27\n        } else if (this.category == 'Celebrities') {\n            this.cat = 26\n        } else if (this.category == 'Books') {\n            this.cat = 10\n        } else if (this.category == 'Movies') {\n            this.cat = 11\n        } else if (this.category == 'Music') {\n            this.cat = 12\n        } else if (this.category == 'Theatre') {\n            this.cat = 13\n        } else if (this.category == 'TV') {\n            this.cat = 14\n        } else if (this.category == 'Video Games') {\n            this.cat = 15\n        } else if (this.category == 'Board Games') {\n            this.cat = 16\n        } else if (this.category == 'Science') {\n            this.cat = 17\n        }  else if (this.category == 'Computers') {\n            this.cat = 18\n        } else if (this.category == 'Maths') {\n            this.cat = 19\n        } else if (this.category == 'Myths') {\n            this.cat = 20\n        } else if (this.category == 'Geography') {\n            this.cat = 22\n        } else if (this.category == 'Historical') {\n            this.cat = 23\n        } else if (this.category == 'Politics') {\n            this.cat = 24\n        } else if (this.category == 'Art') {\n            this.cat = 25\n        } else if (this.category == 'Vehicles') {\n            this.cat = 28\n        } else if (this.category == 'Comics') {\n            this.cat = 29\n        } else if (this.category == 'Gadgets') {\n            this.cat = 30\n        } else if (this.category == 'Anime') {\n            this.cat = 31\n        } else if (this.category == 'Cartoons') {\n            this.cat = 32\n        } \n    },\n\n    props: ['category'],\n\n    data () {\n        return {\n            noMoreResults: false,\n            correctCount: 0,\n            progress: 0,\n            optionSelect: true,\n            cat: this.category,\n            quizes: [],\n            QuizArrayLength: Number,\n            difficultyOptions: ['easy', 'medium', 'hard'],\n            difficulty: \"easy\",\n            number: 10,\n            questionNumbers: [10, 15, 20, 25],\n            questionTypeOptions: ['any','multiple', 'boolean'],\n            questionType: 'multiple',\n            num: 0,\n            tryAgainDialog: false, \n            dialog: false,\n            countDown : 20,\n            dialogHeader: '',\n            badge: ''\n        }\n    },\n\n    watch: {\n        quizes (value) {\n            this.QuizArrayLength = value.length\n        },\n\n        countDown (value) {\n            if(value == 0) {\n                var timer = document.getElementById('timer')\n                timer.pause()\n                timer.currentTime = 0\n                this.dialogHeader = \"Time is up\" \n                var timesUp = document.getElementById('timesUp')\n                timesUp.volume = 0.3 // Set volume of sound\n                timesUp.play()\n                this.dialog = true\n                this.countDown = 20\n                this.countDownTimer() // restart the timer\n                this.progress = (this.num + 1) / this.QuizArrayLength * 100\n            }\n        },\n\n        category (value) { // Also sets the code of the category\n            if (value == 'Sport') {\n                this.cat = 21\n            } else if (value == 'General Knowledge') {\n                this.cat = 9\n            } else if (value == 'Animals') {\n                this.cat = 27\n            } else if (value == 'Celebrities') {\n                this.cat = 26\n            } else if (value == 'Books') {\n                this.cat = 10\n            } else if (value == 'Movies') {\n                this.cat = 11\n            } else if (value == 'Music') {\n                this.cat = 12\n            } else if (value == 'Theatre') {\n                this.cat = 13\n            } else if (value == 'TV') {\n                this.cat = 14\n            } else if (value == 'Video Games') {\n                this.cat = 15\n            } else if (value == 'Board Games') {\n                this.cat = 16\n            } else if (value == 'Science') {\n                this.cat = 17\n            }  else if (value == 'Computers') {\n                this.cat = 18\n            } else if (value == 'Maths') {\n                this.cat = 19\n            } else if (value == 'Myths') {\n                this.cat = 20\n            } else if (value == 'Geography') {\n                this.cat = 22\n            } else if (value == 'Historical') {\n                this.cat = 23\n            } else if (value == 'Politics') {\n                this.cat = 24\n            } else if (value == 'Art') {\n                this.cat = 25\n            } else if (value == 'Vehicles') {\n                this.cat = 28\n            } else if (value == 'Comics') {\n                this.cat = 29\n            } else if (value == 'Gadgets') {\n                this.cat = 30\n            } else if (value == 'Anime') {\n                this.cat = 31\n            } else if (value == 'Cartoons') {\n                this.cat = 32\n            } \n            \n        }\n    },\n\n    computed: {\n        sessionToken () { // token that prevents the same question being requested twice\n            return this.$store.getters.getToken\n        },\n\n        profileCheck () {\n            return this.$store.getters.getProfile\n        },\n\n        user() {\n            return this.$store.getters.getUser\n        },\n\n        progressText () {\n            if (this.progress < 20) {\n                return ''\n            } else if (this.progress >= 21 && this.progress < 40) { \n                return \"You're doing great\"\n            } else if (this.progress >= 50 && this.progress < 55) {\n                return 'Halfway there'\n            } else if (this.progress > 65 && this.progress < 79) {\n                return 'Getting there'\n            }else if (this.progress >= 90 && this.progress < 100) {\n                return 'Almost there'\n            }\n        },\n\n        correctAnswer () { // filter array for correct answer\n           return this.quizes[this.num].questions.find(e => e.correct === true); \n        },\n\n        shuffleArray(a,b,c,d) {\n            var a = this.quizes[this.num].questions\n               let results =  c=a.length;while(c)b=Math.random()*c--|0,d=a[c],a[c]=a[b],a[b]=d\n               return a\n            \n        },\n\n        timerColor () {\n            if (this.countDown >= 15) {\n                return \"green\"\n            } else if (this.countDown >= 10) {\n                return \"blue\"\n            } else if (this.countDown > 5) {\n                return \"yellow\"\n            } else {\n                return \"red\"\n            }\n        }\n    },\n\n    methods: {\n        registerToSave () { // when a user has completed a quiz and want to save his progress by registering\n            const TempData = {\n                correct: this.correctCount,\n                totalQuestions: this.QuizArrayLength,\n                lastGame: {\n                    category: this.cat,\n                    score: this.correctCount + ' out of ' + this.QuizArrayLength\n                },\n                badges: [this.badge]\n            }\n            this.$store.dispatch('storeTempData', TempData)\n            this.$router.push('/register')\n        },\n        \n        tryAgain () {\n            this.tryAgainDialog = false\n            this.getQuestions()\n            this.num = 0\n        },\n\n        resetSounds () {  // when a user presses on next question this method runs\n            var wrong = document.getElementById('wrong')\n            var right = document.getElementById('right')\n            var timer = document.getElementById('timer')\n            if (this.num < this.QuizArrayLength - 1) { // if its not the last question\n                this.dialog = false\n                this.countDown = 20\n                timer.play()\n                wrong.pause()\n                wrong.currentTime = 0\n                right.pause()\n                right.currentTime = 0\n                setTimeout(() => {  this.num += 1; }, 200);\n            } else if (this.num == this.QuizArrayLength - 1 && this.user !== false) { // if it is the last question and the user is signed in\n                this.dialog = false // close the next question dialog and open the try again dialog\n                this.tryAgainDialog = true\n                this.countDown = -1\n\n                if (this.profileCheck == undefined && this.user !== false) { // if it is the users first game\n                console.log('users first game') \n                    const profileUpdateInfo = { // profile info to be send to firestore\n                        uid: this.user.uid,\n                        correct: this.correctCount,\n                        totalQuestions: this.QuizArrayLength,\n                        lastGame: {\n                            category: this.cat,\n                            score: this.correctCount + ' out of ' + this.QuizArrayLength\n                        },\n                        badges: [this.badge]\n                    } \n                    this.$store.dispatch('sendProfileData', profileUpdateInfo)\n                }\n\n                else if (this.profileCheck !== undefined && this.user !== false) { // user already has a profile\n                    const profileUpdateInfo = {\n                        uid: this.user.uid,\n                        correct: this.profileCheck.correct + this.correctCount,\n                        totalQuestions: this.profileCheck.totalQuestions + this.QuizArrayLength,\n                        lastGame: {\n                            category: this.cat,\n                            score: this.correctCount + ' out of ' + this.QuizArrayLength\n                        },\n                        badges: this.profileCheck.badges\n                    }\n                    this.$store.dispatch('sendProfileData', profileUpdateInfo)\n                } \n            \n                \n            } else if (this.num == this.QuizArrayLength - 1 && this.user == false) { // if its the last question and user is not yet signed in\n                this.dialog = false\n                this.tryAgainDialog = true\n            }\n            \n        },\n\n        storeAnswer(answer) {\n            if (this.profileCheck !== undefined) {\n                console.log('user already has a profile')\n            } else if (this.profileCheck == undefined) {\n                console.log(\"user has no profile yet\")\n            }\n            this.progress = (this.num + 1) / this.QuizArrayLength * 100\n            \n            var timer = document.getElementById('timer')\n            timer.pause()\n            timer.currentTime = 0\n            \n            var wrong = document.getElementById('wrong')\n            wrong.volume = 0.3 // Set volume of sound\n            var right = document.getElementById('right')\n            right.volume = 0.3 // Set volume of sound\n            \n            if (answer == false) { // if its not the last question and the answer is incorrect\n                this.dialogHeader = \"Oops! That is incorrect\"\n                wrong.play()\n                this.dialog = true // show the right question in dialog\n                    \n\n            } else if (answer == true && this.num !== this.QuizArrayLength - 1) { // if its not the last question and the answer is right\n                right.play()\n                this.correctCount++\n                this.num++\n                this.countDown = 20 // Reset the timer\n                timer.play()\n\n                // quiz is done\n            } else if (this.num == this.QuizArrayLength - 1 && answer == true) { // if is is the last question and the answer is right\n                this.dialog = false\n                this.correctCount++\n                this.tryAgainDialog = true\n                this.countDown = -1\n\n                if (this.profileCheck == undefined && this.user !== false) { // if it is the users first game\n                console.log('users first game')\n                    const profileUpdateInfo = { // profile info to be send to firestore\n                        uid: this.user.uid,\n                        correct: this.correctCount,\n                        totalQuestions: this.QuizArrayLength,\n                        lastGame: {\n                            category: this.cat,\n                            score: this.correctCount + ' out of ' + this.QuizArrayLength,\n                        },\n                        badges: [this.badge]\n                    } \n                    this.$store.dispatch('sendProfileData', profileUpdateInfo)\n                } else if (this.profileCheck !== undefined && this.user !== false) { // user already has a profile\n                    const profileUpdateInfo = {\n                        uid: this.user.uid,\n                        correct: this.profileCheck.correct + this.correctCount,\n                        totalQuestions: this.profileCheck.totalQuestions + this.QuizArrayLength,\n                        lastGame: {\n                            category: this.cat,\n                            score: this.correctCount + ' out of ' + this.QuizArrayLength\n                        },\n                        badges: this.profileCheck.badges\n                    }\n                    this.$store.dispatch('sendProfileData', profileUpdateInfo)\n                } else if (this.user == false) { // user is not yet signed in (still part of last question IF)\n                    \n                }\n\n                //quiz is also done\n            } else if (this.num == this.QuizArrayLength - 1 && answer == false) { // if its the last question and the answer is wrong\n                this.dialog = true // Show the correct answer\n                this.tryAgainDialog = true\n                this.countDown = -1\n\n                if (this.profileCheck == undefined && this.user !== false) { // if it is the users first game \n                console.log('users first game')\n                    const profileUpdateInfo = { // profile info to be send to firestore\n                        uid: this.user.uid,\n                        correct: this.correctCount,\n                        totalQuestions: this.QuizArrayLength,\n                        lastGame: {\n                            category: this.cat,\n                            score: this.correctCount + ' out of ' + this.QuizArrayLength,\n                        },\n                        badges: [this.badge]\n                    } \n                    this.$store.dispatch('sendProfileData', profileUpdateInfo)\n                }\n\n                else if (this.profileCheck !== undefined && this.user !== false) { // user already has a profile\n                    const profileUpdateInfo = {\n                        uid: this.user.uid,\n                        correct: this.profileCheck.correct + this.correctCount,\n                        totalQuestions: this.profileCheck.totalQuestions + this.QuizArrayLength,\n                        lastGame: {\n                            category: this.cat,\n                            score: this.correctCount + ' out of ' + this.QuizArrayLength\n                        },\n                        badges: this.profileCheck.badges\n                    }\n                    this.$store.dispatch('sendProfileData', profileUpdateInfo)\n                } else if (this.user == false) { // user is not signed in and answer is wrong\n                    this.dialog = true // show the correct answer\n                }\n\n            }\n            \n        \n        },\n\n        countDownTimer() {\n            if(this.countDown > 0) { \n                setTimeout(() => {\n                    this.countDown -= 1\n                    if (this.dialog == true) { // If a answer is pressed then stop the timer\n                        this.countDown += 1 //doesnt really stop but appears that way in the dom\n                    }\n                    this.countDownTimer()\n                }, 1000)\n            } else if (this.countDown == -1) {\n                return\n            }\n        },\n\n\n        getQuestions () {\n            this.$store.dispatch('setLoadState', true)\n            this.quizes.length = 0 // reset the array when user click 'Try again'\n            this.$http.get('https://opentdb.com/api.php?amount=' + this.number + '&token=' + this.sessionToken + '&category=' + this.cat + '&difficulty=' + this.difficulty + '&type=' + this.questionType + '')\n            .then(response => {\n                if (response.data.response_code == 4) {\n                    this.$store.dispatch('setLoadState', false)\n                    this.noMoreResults = true\n                } else {\n                    var i = 0\n                    var n = 0\n                    this.countDown = 20\n                    this.countDownTimer() // starts the timer\n                    var timer = document.getElementById('timer')\n                    timer.play()\n                    while (i < response.data.results.length) { // goes into each object\n                        let questionArray = []\n                        while (n < 3) { // goes into the current objects sub array \n                            var possible = {\n                                question: response.data.results[i].incorrect_answers[n],\n                                correct: false\n                            }\n                            questionArray.push(possible)\n                            n++\n                        } // while loop from incorrect answers ends\n\n                        possible = { \n                            question: response.data.results[i].correct_answer,\n                            correct: true\n                        }\n\n                        questionArray.push(possible)\n                        const question = { // an object that contains each specific question\n                        num: i + 1, \n                        questions: questionArray,\n                        name: response.data.results[i].question\n                        }\n                        this.quizes.push(question) // store each object inside an array\n                        i++\n                        n = 0 // reset the sub array numbering\n                    } // while loop from individual question object ends\n                    this.$store.dispatch('setLoadState', false)\n                }\n                this.optionSelect = false // hides the option bar\n            }) // then ENDS\n            .catch(error => {\n                console.log(error)\n            })\n            \n            \n        }\n    }\n\n}\n</script>\n\n<style scoped>\n\n#timerHolder {\n    width: 50%;\n    margin: auto;\n    text-align: center;\n}\n\n#dialogHeader {\n    background-color: red;\n}\n\n.customBtn {\n    font-size: 40px!important;\n}\n\n#noResultImgHolder {\n    display: flex;\n    width: auto;\n    flex-direction: column;;\n    align-content: center;\n    padding: 20px;\n    height: 80vh;\n    margin-bottom: 20px;\n}\n\n#noResultImg {\n    margin: auto;\n    height: 80%;\n    max-width: 800px;\n}\n</style>"]}]}