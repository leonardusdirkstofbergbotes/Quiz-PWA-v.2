{"remainingRequest":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/babel-loader/lib/index.js!/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/ts-loader/index.js??ref--13-2!/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/src/store/index.ts","dependencies":[{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/src/store/index.ts","mtime":1594841926766},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0ICogYXMgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHNlc3Npb25Ub2tlbjogJycsCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGxvZ2dlZEluVXNlcjogZmFsc2UKICB9LAogIG11dGF0aW9uczogewogICAgc3RvcmVUb2tlbjogZnVuY3Rpb24gc3RvcmVUb2tlbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5zZXNzaW9uVG9rZW4gPSBwYXlsb2FkOwogICAgfSwKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUubG9hZGluZyA9IHBheWxvYWQ7CiAgICB9LAogICAgc2lnbjogZnVuY3Rpb24gc2lnbihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5sb2dnZWRJblVzZXIgPSBwYXlsb2FkOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IHBheWxvYWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBzZW5kVG9rZW46IGZ1bmN0aW9uIHNlbmRUb2tlbihfcmVmLCBwYXlsb2FkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCdzdG9yZVRva2VuJywgcGF5bG9hZCk7CiAgICB9LAogICAgc2lnblVzZXJJbjogZnVuY3Rpb24gc2lnblVzZXJJbihfcmVmMiwgcGF5bG9hZCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoJ2xvYWQnLCB0cnVlKTsgLy8gc3RhcnQgbG9hZGluZwoKICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKHBheWxvYWQuZW1haWwsIHBheWxvYWQucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIF9yZXNwb25zZSR1c2VyOwoKICAgICAgICAvLyBhdXRoIHRoZSB1c2VyIGFuZCBnZXQgdWlkIAogICAgICAgIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd1c2Vycy8nICsgKChfcmVzcG9uc2UkdXNlciA9IHJlc3BvbnNlLnVzZXIpID09PSBudWxsIHx8IF9yZXNwb25zZSR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkdXNlci51aWQpKS5vbmNlKCd2YWx1ZScpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIC8vIGdldCBhbGwgdGhlIGluZm8gb2YgdGhlIHVzZXIgc2lnbmVkIGluCiAgICAgICAgICBjb21taXQoJ3NpZ24nLCBkYXRhLnZhbCgpKTsKICAgICAgICB9KTsKICAgICAgICBjb21taXQoJ2xvYWQnLCBmYWxzZSk7IC8vIHN0b3AgbG9hZGluZwogICAgICB9KSAvLyBmaXJlYmFzZSBzaWduaW4gLnRoZW4gRU5EUwogICAgICBbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1NpZ24gaW4gZXJyb3IgPSAnICsgZXJyb3IpOwogICAgICAgIGNvbW1pdCgnbG9hZCcsIGZhbHNlKTsgLy8gc3RvcCBsb2FkaW5nCiAgICAgIH0pOyAvLyBmaXJlYmFzZSBzaWduaW4gLmNhdGNoIEVORFMKICAgIH0sCiAgICBjcmVhdGVVc2VyOiBmdW5jdGlvbiBjcmVhdGVVc2VyKF9yZWYzLCBwYXlsb2FkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGNvbW1pdCgnbG9hZCcsIHRydWUpOyAvLyBzdGFydCBsb2FkaW5nCgogICAgICBmaXJlYmFzZS5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKHBheWxvYWQuZW1haWwsIHBheWxvYWQucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIF9yZXNwb25zZSR1c2VyMiwgX3Jlc3BvbnNlJHVzZXIzOwoKICAgICAgICB2YXIgbmV3VXNlciA9IHsKICAgICAgICAgIHVpZDogKF9yZXNwb25zZSR1c2VyMiA9IHJlc3BvbnNlLnVzZXIpID09PSBudWxsIHx8IF9yZXNwb25zZSR1c2VyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jlc3BvbnNlJHVzZXIyLnVpZCwKICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSwKICAgICAgICAgIHN1cm5hbWU6IHBheWxvYWQuc3VybmFtZSwKICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsIC8vIGRvbnQgc3RvcmUgcGFzc3dvcmQgaW4gZGIKCiAgICAgICAgfTsKICAgICAgICBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndXNlcnMvJyArICgoX3Jlc3BvbnNlJHVzZXIzID0gcmVzcG9uc2UudXNlcikgPT09IG51bGwgfHwgX3Jlc3BvbnNlJHVzZXIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzcG9uc2UkdXNlcjMudWlkKSkuc2V0KG5ld1VzZXIpOyAvLyBzdG9yZSB0aGUgbmV3IHVzZXIgaW4gdGhlIGRhdGFiYXNlCiAgICAgICAgLy8gaWYgc3VjY2Vzc2Z1bCB0aGVuIHNpZ24gdXNlciBpbiBhdCB0aGUgc2FtZSB0aW1lCgogICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChuZXdVc2VyLmVtYWlsLCBwYXlsb2FkLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy8gYXV0aCB0aGUgdXNlcgogICAgICAgICAgY29tbWl0KCdzaWduJywgbmV3VXNlcik7CiAgICAgICAgfSkgLy8gZmlyZWJhc2Ugc2lnbmluIC50aGVuIEVORFMKICAgICAgICBbImNhdGNoIl0oZnVuY3Rpb24gKHNpZ25JbmVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhzaWduSW5lcnJvcik7CiAgICAgICAgfSk7IC8vIGZpcmViYXNlIHNpZ25pbiAuY2F0Y2ggRU5EUwoKICAgICAgICBjb21taXQoJ2xvYWQnLCBmYWxzZSk7IC8vIHN0b3AgbG9hZGluZwogICAgICB9KSAvLyBmaXJlYmFzZSBhdXRoLnRoZW4gRU5EUwogICAgICBbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIGNvbW1pdCgnbG9hZCcsIGZhbHNlKTsgLy8gc3RvcCBsb2FkaW5nCiAgICAgIH0pOyAvLyBmaXJlYmFzZSBhdXRoLmNhdGNoIEVORFMKICAgIH0sCiAgICBsb2dvdXRVc2VyOiBmdW5jdGlvbiBsb2dvdXRVc2VyKF9yZWY0KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgnbG9hZCcsIHRydWUpOyAvLyBzdGFydCBsb2FkaW5nCgogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdTaWduZWQgT3V0Jyk7CiAgICAgICAgY29tbWl0KCdsb2dvdXQnLCBmYWxzZSk7CiAgICAgICAgY29tbWl0KCdsb2FkJywgZmFsc2UpOyAvLyBzdG9wIGxvYWRpbmcKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignU2lnbiBPdXQgRXJyb3InLCBlcnJvcik7CiAgICAgICAgY29tbWl0KCdsb2FkJywgZmFsc2UpOyAvLyBzdG9wIGxvYWRpbmcKICAgICAgfSk7CiAgICB9LAogICAgc2VuZExvYWRSZXF1ZXN0OiBmdW5jdGlvbiBzZW5kTG9hZFJlcXVlc3QoX3JlZjUsIHBheWxvYWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgY29tbWl0KCdsb2FkJywgcGF5bG9hZCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dnZWRJblVzZXI7CiAgICB9LAogICAgZ2V0TG9hZGluZzogZnVuY3Rpb24gZ2V0TG9hZGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGluZzsKICAgIH0sCiAgICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnNlc3Npb25Ub2tlbjsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/leonardus/Desktop/My Projects/Quiz-PWA-v.2/src/store/index.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport * as firebase from 'firebase'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    sessionToken: '',\n    loading: false,\n    loggedInUser: false\n  },\n  mutations: {\n    storeToken (state, payload) {\n      state.sessionToken = payload\n    },\n\n    load (state, payload) {\n      state.loading = payload\n    },\n\n    sign (state, payload) {\n      state.loggedInUser = payload\n    },\n\n    logout (state, payload) {\n      state.loggedInUser = payload\n    }\n  },\n  actions: {\n\n    sendToken ({commit}, payload) {\n      commit('storeToken', payload)\n    },\n\n    signUserIn ({commit}, payload) {\n      commit('load', true) // start loading\n      firebase.auth().signInWithEmailAndPassword(payload.email, payload.password).then(response => {\n        // auth the user and get uid \n\n        firebase.database().ref('users/' + response.user?.uid).once('value').then(data => {\n          // get all the info of the user signed in\n\n          commit('sign', data.val())\n        })\n        commit('load', false) // stop loading\n      }) // firebase signin .then ENDS\n      .catch(error => {\n        console.log('Sign in error = ' + error)\n        commit('load', false) // stop loading\n      })// firebase signin .catch ENDS\n    },\n\n    createUser ({commit}, payload) {\n      commit('load', true) // start loading\n      firebase.auth().createUserWithEmailAndPassword(payload.email , payload.password).then(response => {\n        const newUser = {\n          uid: response.user?.uid,\n          name: payload.name,\n          surname: payload.surname,\n          email: payload.email\n          // dont store password in db\n        }\n\n        firebase.database().ref('users/' + response.user?.uid).set(newUser) // store the new user in the database\n      \n        // if successful then sign user in at the same time\n        firebase.auth().signInWithEmailAndPassword(newUser.email, payload.password).then(response => {\n          // auth the user\n            \n           commit('sign', newUser) \n        \n        }) // firebase signin .then ENDS\n        .catch(signInerror => {\n          console.log(signInerror)\n        }) // firebase signin .catch ENDS\n\n        commit('load', false) // stop loading\n      }) // firebase auth.then ENDS\n      .catch(error => {\n        console.log(error)\n        commit('load', false) // stop loading\n      }) // firebase auth.catch ENDS\n    },\n\n    logoutUser ({commit}) {\n      commit('load', true) // start loading\n      firebase.auth().signOut().then(function() {\n        console.log('Signed Out');\n        commit('logout', false)\n        commit('load', false) // stop loading\n      }, function(error) {\n        console.error('Sign Out Error', error);\n        commit('load', false) // stop loading\n      });\n    },\n\n    sendLoadRequest ({commit}, payload) {\n      commit('load', payload)\n    }\n  },\n  getters: {\n    getUser (state) {\n      return state.loggedInUser\n    },\n\n    getLoading (state) {\n      return state.loading\n    },\n\n    getToken (state) {\n      return state.sessionToken\n    }\n  }\n})\n"],"sourceRoot":""}]}